<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Download and Analyse Data for Road Safety Research • trafficalmr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Download and Analyse Data for Road Safety Research">
<meta property="og:description" content="Downloads data on traffic calming interventions from OpenStreetMap
    and other sources.
    Provides a range of functions for processing and analysing datasets.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">trafficalmr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/report1.html">SaferActive Report 1: Data</a>
    </li>
    <li>
      <a href="articles/report2.html">SaferActive Report 2: Scenarios</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/saferactive/trafficalmr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="trafficalmr" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#trafficalmr" class="anchor"></a>trafficalmr</h1></div>
<p>This is an R package to support road safety and traffic calming measures.</p>
</div>
<div id="installation" class="section level1">
<h1 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h1>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"saferactive/trafficalmr"</span><span class="op">)</span></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/saferactive/trafficalmr">trafficalmr</a></span><span class="op">)</span></pre></div>
</div>
<div id="get-traffic-calming-data" class="section level1">
<h1 class="hasAnchor">
<a href="#get-traffic-calming-data" class="anchor"></a>Get traffic calming data</h1>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="va">traffic_calming_points</span> <span class="op">=</span> <span class="fu"><a href="reference/tc_get_osm.html">tc_get_osm</a></span><span class="op">(</span>bbox <span class="op">=</span> <span class="st">"chapeltown leeds"</span><span class="op">)</span></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu">mapview</span><span class="fu">::</span><span class="fu">mapview</span><span class="op">(</span><span class="va">traffic_calming_points</span><span class="op">[</span><span class="st">"traffic_calming"</span><span class="op">]</span><span class="op">)</span></pre></div>
<p><img src="https://user-images.githubusercontent.com/1825120/87041987-f2e7b180-c1ea-11ea-9731-b2b9512fd0ea.png"></p>
</div>
<div id="recoding-data" class="section level1">
<h1 class="hasAnchor">
<a href="#recoding-data" class="anchor"></a>Recoding data</h1>
<p>Recode vehicle types:</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="fu"><a href="reference/tc_recode_vehicle_type.html">tc_recode_vehicle_type</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Bus long"</span>, <span class="st">"Motorcycle long name"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] "Bus"        "Motorcycle"</span></pre></div>
<p>This can be useful in visualisation:</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="va">v</span> <span class="op">=</span> <span class="fu">stats19</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/stats19/reference/get_stats19.html">get_stats19</a></span><span class="op">(</span>year <span class="op">=</span> <span class="fl">2018</span>, type <span class="op">=</span> <span class="st">"vehicles"</span><span class="op">)</span>
<span class="co">#&gt; Files identified: dftRoadSafetyData_Vehicles_2018.csv</span>
<span class="co">#&gt;    http://data.dft.gov.uk.s3.amazonaws.com/road-accidents-safety-data/dftRoadSafetyData_Vehicles_2018.csv</span>
<span class="co">#&gt; Attempt downloading from:</span>
<span class="co">#&gt; Data saved at /var/folders/z7/l4z5fwqs2ksfv22ghh2n9smh0000gp/T//RtmpFerJDz/dftRoadSafetyData_Vehicles_2018.csv</span>
<span class="va">v</span><span class="op">$</span><span class="va">vehicle_type_simple</span> <span class="op">=</span> <span class="fu"><a href="reference/tc_recode_vehicle_type.html">tc_recode_vehicle_type</a></span><span class="op">(</span><span class="va">v</span><span class="op">$</span><span class="va">vehicle_type</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html">barplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">v</span><span class="op">$</span><span class="va">vehicle_type</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/barplot.html">barplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">v</span><span class="op">$</span><span class="va">vehicle_type_simple</span><span class="op">)</span><span class="op">)</span></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-8-1.png" width="50%"><img src="reference/figures/README-unnamed-chunk-8-2.png" width="50%"></p>
<p>Note that the second plot on the right is much easier to interpret. See <a href="https://saferactive.github.io/trafficalmr/reference/tc_recode.html"><code>?tc_recode()</code></a> for details.</p>
</div>
<div id="development-contributing" class="section level1">
<h1 class="hasAnchor">
<a href="#development-contributing" class="anchor"></a>Development (contributing)</h1>
<p>R package <code>testthat</code> is used to test this package. Some of the tests, understandably, need to make calls to OSM and other remote services. The package has an ENV to avoid running network calls (downloads). If you like to avoid running them set an ENV var with <code>DONT_DOWNLOAD_ANYTHING = false</code> so that you skip them. If <code><a href="https://jeroen.cran.dev/curl/reference/nslookup.html">curl::has_internet()</a></code> fails, they will be skipped anyways.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/saferactive/trafficalmr/">https://​github.com/​saferactive/​trafficalmr/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/saferactive/trafficalmr/issues">https://​github.com/​saferactive/​trafficalmr/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="community">
<h2>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Robin Lovelace <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-5679-6536" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Malcolm Morgan <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-9488-9183" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Layik Hama <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0003-1912-4890" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Caroline Tait <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-4781-4111" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/saferactive/trafficalmr/actions"><img src="https://github.com/saferactive/trafficalmr/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://www.repostatus.org/#active"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Project Status: Active – The project has reached a stable, usable state and is being actively developed."></a></li>
<li><a href="https://codecov.io/gh/saferactive/trafficalmr?branch=master"><img src="https://codecov.io/gh/saferactive/trafficalmr/branch/master/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Robin Lovelace, Malcolm Morgan, Layik Hama, Caroline Tait.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
